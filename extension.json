{
	"name": "CampaignEvents",
	"author": [
		"[https://meta.wikimedia.org/wiki/Campaigns/Foundation_Product_Team WMF Campaigns Team]"
	],
	"url": "https://www.mediawiki.org/wiki/Extension:CampaignEvents",
	"descriptionmsg": "campaignevents-desc",
	"license-name": "GPL-2.0-or-later",
	"type": "specialpage",
	"requires": {
		"MediaWiki": ">= 1.38.0"
	},
	"AutoloadNamespaces": {
		"MediaWiki\\Extension\\CampaignEvents\\": "src/"
	},
	"AvailableRights": [
		"campaignevents-create-registration",
		"campaignevents-delete-registration"
	],
	"config": {
		"CampaignEventsDatabaseCluster": {
			"description": "The database cluster to use. False means the cluster of the current wiki will be used.",
			"value": false
		},
		"CampaignEventsDatabaseName": {
			"description": "The database to use. False means the database of the current wiki will be used.",
			"value": false
		}
	},
	"GroupPermissions": {
		"user": {
			"campaignevents-create-registration": true
		},
		"sysop": {
			"campaignevents-delete-registration": true
		}
	},
	"ExtensionMessagesFiles": {
		"CampaignEventsAliases": "CampaignEvents.alias.php",
		"CampaignEventsNamespaces": "CampaignEvents.namespaces.php"
	},
	"HookHandlers": {
		"SchemaChanges": {
			"class": "MediaWiki\\Extension\\CampaignEvents\\Hooks\\Handlers\\SchemaChangesHandler"
		},
		"ArticleViewHeader": {
			"class": "MediaWiki\\Extension\\CampaignEvents\\Hooks\\Handlers\\ArticleViewHeaderHandler",
			"services": [
				"CampaignEventsEventPageDecorator"
			]
		}
	},
	"Hooks": {
		"LoadExtensionSchemaUpdates": "SchemaChanges",
		"ArticleViewHeader": "ArticleViewHeader"
	},
	"MessagesDirs": {
		"CampaignEvents": [
			"i18n"
		]
	},
	"namespaces": [
		{
			"id": 1728,
			"constant": "NS_EVENT",
			"name": "Event"
		},
		{
			"id": 1729,
			"constant": "NS_EVENT_TALK",
			"name": "Event_talk"
		}
	],
	"ResourceFileModulePaths": {
		"localBasePath": "resources",
		"remoteExtPath": "CampaignEvents/resources"
	},
	"ResourceModules": {
		"ext.campaignEvents.specialmyevents.styles": {
			"localBasePath": "resources/ext.campaignEvents.specialmyevents.styles",
			"remoteExtPath": "CampaignEvents/resources/ext.campaignEvents.specialmyevents.styles",
			"styles": [
				"EventsPager.less",
				"SpecialMyEvents.less"
			]
		},
		"ext.campaignEvents.specialmyevents": {
			"localBasePath": "resources/ext.campaignEvents.specialmyevents",
			"remoteExtPath": "CampaignEvents/resources/ext.campaignEvents.specialmyevents",
			"packageFiles": [
				"index.js",
				"ConfirmEventDeletionDialog.js",
				"FilterEventsWidget.js",
				"EventKebabMenu.js"
			],
			"messages": [
				"campaignevents-myevents-filter-btn-label",
				"campaignevents-eventslist-menu-edit",
				"campaignevents-eventslist-menu-view-eventpage",
				"campaignevents-eventslist-menu-close",
				"campaignevents-eventslist-menu-close-success",
				"campaignevents-eventslist-menu-open",
				"campaignevents-eventslist-menu-open-success",
				"campaignevents-eventslist-menu-delete",
				"campaignevents-eventslist-delete-dialog-title",
				"campaignevents-eventslist-delete-dialog-body",
				"campaignevents-eventslist-delete-dialog-cancel",
				"campaignevents-eventslist-delete-dialog-delete",
				"campaignevents-eventslist-delete-success"
			],
			"dependencies": [
				"mediawiki.api",
				"mediawiki.jqueryMsg",
				"mediawiki.util",
				"oojs-ui-widgets",
				"oojs-ui-windows",
				"oojs-ui.styles.icons-interactions"
			]
		},
		"ext.campaignEvents.eventpage.styles": {
			"styles": "ext.campaignEvents.eventpage.styles.less"
		},
		"ext.campaignEvents.eventpage": {
			"localBasePath": "resources/ext.campaignEvents.eventpage",
			"remoteExtPath": "CampaignEvents/resources/ext.campaignEvents.eventpage",
			"packageFiles": [
				"index.js",
				"ConfirmUnregistrationDialog.js",
				"EnableRegistrationDialog.js",
				"EventDetailsDialog.js",
				"PolicyAcknowledgementDialog.js",
				{
					"name": "data.json",
					"callback": "MediaWiki\\Extension\\CampaignEvents\\Hooks\\ResourceLoaderCallbacks::getEventPageData"
				}
			],
			"styles": [
				"EventDetailsDialog.less"
			],
			"messages": [
				"campaignevents-eventpage-dialog-title",
				"campaignevents-eventpage-dialog-action-close",
				"campaignevents-eventpage-register-notification",
				"campaignevents-eventpage-unregister-confirmation-title",
				"campaignevents-eventpage-unregister-confirmation-body",
				"campaignevents-eventpage-unregister-confirmation-confirm",
				"campaignevents-eventpage-unregister-confirmation-dismiss",
				"campaignevents-eventpage-register-confirmation-cancel",
				"campaignevents-eventpage-register-confirmation-confirm",
				"campaignevents-eventpage-enable-registration-dialog-title",
				"campaignevents-eventpage-enable-registration-dialog-body",
				"campaignevents-eventpage-enable-registration-dialog-dismiss",
				"campaignevents-eventpage-enable-registration-dialog-confirm"
			],
			"dependencies": [
				"mediawiki.api",
				"mediawiki.user",
				"mediawiki.util",
				"mediawiki.Uri",
				"oojs-ui-core",
				"oojs-ui-windows"
			]
		}
	},
	"RestRoutes": [
		{
			"path": "/campaignevents/v0/event_registration",
			"method": "POST",
			"class": "MediaWiki\\Extension\\CampaignEvents\\Rest\\CreateEventRegistrationHandler",
			"services": [
				"CampaignEventsEventFactory",
				"CampaignEventsPermissionChecker",
				"CampaignEventsEditEventCommand",
				"UserFactory"
			]
		},
		{
			"path": "/campaignevents/v0/event_registration/{id}",
			"method": "GET",
			"class": "MediaWiki\\Extension\\CampaignEvents\\Rest\\GetEventRegistrationHandler",
			"services": [
				"CampaignEventsEventLookup"
			]
		},
		{
			"path": "/campaignevents/v0/event_registration/{id}",
			"method": "DELETE",
			"class": "MediaWiki\\Extension\\CampaignEvents\\Rest\\DeleteEventRegistrationHandler",
			"services": [
				"CampaignEventsEventLookup",
				"CampaignEventsDeleteEventCommand",
				"UserFactory"
			]
		},
		{
			"path": "/campaignevents/v0/event_registration/{id}/participants/self",
			"method": "PUT",
			"class": "MediaWiki\\Extension\\CampaignEvents\\Rest\\RegisterForEventHandler",
			"services": [
				"CampaignEventsEventLookup",
				"CampaignEventsRegisterParticipantCommand",
				"UserFactory"
			]
		},
		{
			"path": "/campaignevents/v0/event_registration/{id}/participants/self",
			"method": "DELETE",
			"class": "MediaWiki\\Extension\\CampaignEvents\\Rest\\UnregisterForEventHandler",
			"services": [
				"CampaignEventsEventLookup",
				"CampaignEventsUnregisterParticipantCommand",
				"UserFactory"
			]
		},
		{
			"path": "/campaignevents/v0/event_registration/{id}",
			"method": "PUT",
			"class": "MediaWiki\\Extension\\CampaignEvents\\Rest\\UpdateEventRegistrationHandler",
			"services": [
				"CampaignEventsEventFactory",
				"CampaignEventsPermissionChecker",
				"CampaignEventsEditEventCommand",
				"UserFactory",
				"CampaignEventsEventLookup"
			]
		},
		{
			"path": "/campaignevents/v0/event_registration/{id}/organizers",
			"method": "GET",
			"class": "MediaWiki\\Extension\\CampaignEvents\\Rest\\ListOrganizersHandler",
			"services": [
				"CampaignEventsEventLookup",
				"CampaignEventsOrganizersStore",
				"CampaignEventsRoleFormatter"
			]
		},
		{
			"path": "/campaignevents/v0/event_registration/{id}/participants",
			"method": "GET",
			"class": "MediaWiki\\Extension\\CampaignEvents\\Rest\\ListParticipantsHandler",
			"services": [
				"CampaignEventsEventLookup",
				"CampaignEventsParticipantsStore"
			]
		},
		{
			"path": "/campaignevents/v0/organizer/{user}/event_registrations",
			"method": "GET",
			"class": "MediaWiki\\Extension\\CampaignEvents\\Rest\\ListEventsByOrganizerHandler",
			"services": [
				"CampaignEventsEventLookup",
				"CampaignEventsCentralUserLookup",
				"UserFactory",
				"UserNameUtils"
			]
		},
		{
			"path": "/campaignevents/v0/participant/{user}/event_registrations",
			"method": "GET",
			"class": "MediaWiki\\Extension\\CampaignEvents\\Rest\\ListEventsByParticipantHandler",
			"services": [
				"CampaignEventsEventLookup",
				"CampaignEventsCentralUserLookup",
				"UserFactory",
				"UserNameUtils"
			]
		}
	],
	"ServiceWiringFiles": [
		"src/ServiceWiring.php"
	],
	"SpecialPages": {
		"CreateEventRegistration": {
			"class": "MediaWiki\\Extension\\CampaignEvents\\Special\\SpecialCreateEventRegistration",
			"services": [
				"CampaignEventsEventLookup",
				"CampaignEventsEventFactory",
				"CampaignEventsEditEventCommand"
			]
		},
		"EditEventRegistration": {
			"class": "MediaWiki\\Extension\\CampaignEvents\\Special\\SpecialEditEventRegistration",
			"services": [
				"CampaignEventsEventLookup",
				"CampaignEventsEventFactory",
				"CampaignEventsEditEventCommand",
				"CampaignEventsPermissionChecker"
			]
		},
		"DeleteEventRegistration": {
			"class": "MediaWiki\\Extension\\CampaignEvents\\Special\\SpecialDeleteEventRegistration",
			"services": [
				"CampaignEventsEventLookup",
				"CampaignEventsDeleteEventCommand",
				"CampaignEventsPermissionChecker"
			]
		},
		"RegisterForEvent": {
			"class": "MediaWiki\\Extension\\CampaignEvents\\Special\\SpecialRegisterForEvent",
			"services": [
				"CampaignEventsEventLookup",
				"CampaignEventsRegisterParticipantCommand",
				"CampaignEventsParticipantsStore",
				"CampaignEventsPolicyMessageLookup"
			]
		},
		"UnregisterForEvent": {
			"class": "MediaWiki\\Extension\\CampaignEvents\\Special\\SpecialUnregisterForEvent",
			"services": [
				"CampaignEventsEventLookup",
				"CampaignEventsUnregisterParticipantCommand",
				"CampaignEventsParticipantsStore"
			]
		},
		"EventRegistration": {
			"class": "MediaWiki\\Extension\\CampaignEvents\\Special\\SpecialEventRegistration"
		},
		"MyEvents": {
			"class": "MediaWiki\\Extension\\CampaignEvents\\Special\\SpecialMyEvents",
			"services": [
				"CampaignEventsEventsPagerFactory"
			]
		}
	},
	"TestAutoloadNamespaces": {
		"MediaWiki\\Extension\\CampaignEvents\\Tests\\Unit\\": "tests/phpunit/unit/",
		"MediaWiki\\Extension\\CampaignEvents\\Tests\\Integration\\": "tests/phpunit/integration/"
	},
	"manifest_version": 2
}
