@import 'mediawiki.skin.variables.less';
@import 'mediawiki.mixins.less';

.ext-campaignevents-eventpage-header {
	.flex-display();
	flex-direction: column;

	& > .ext-campaignevents-eventpage-participant-notice {
		// TODO Use `gap` when allowed.
		// Support: IE11, Chrome and Edge < 84, FF < 63, Safari < 14.1, iOS < 14.5 and others
		margin-bottom: 0.5em;
	}
}

.ext-campaignevents-eventpage-header-eventinfo {
	.flex-display();
	.flex-wrap();
	align-items: flex-start;

	&.oo-ui-panelLayout-padded {
		// OOUI sets a padding-top of 12px and the other ones of 16px, but we want the same
		// padding for every side.
		padding: 14px;
	}

	.ext-campaignevents-eventpage-header-buttons {
		align-self: center;
	}

	> * {
		// Set this to ensure that text is wrapped correctly.
		min-width: 0;
	}
}

@media ( min-width: @min-width-breakpoint-desktop ) {
	.ext-campaignevents-eventpage-header-eventinfo > *:not( :last-child ) {
		// This is equivalent to using gap: 1em.
		// Support: IE11, Chrome and Edge < 84, FF < 63, Safari < 14.1, iOS < 14.5 and others
		margin-right: 1em;
	}
}

@media ( max-width: @max-width-breakpoint-tablet ) {
	// Change flex direction on small screens so that there's one item per line.
	// @media queries seem to be the only way to achieve that aside from
	// display:grid (which is still not supported well enough).
	.ext-campaignevents-eventpage-header-eventinfo {
		flex-direction: column;
		align-items: flex-start;

		> *:not( :last-child ) {
			// This is equivalent to using gap: 1em.
			// Support: IE11, Chrome and Edge < 84, FF < 63, Safari < 14.1, iOS < 14.5 and others
			margin-bottom: 1em;
		}

		.ext-campaignevents-eventpage-header-buttons {
			// Make sure the item is full-width; flex-grow: 1 only affects the width when the
			// flex direction is row.
			width: 100%;
		}
	}
}

.ext-campaignevents-eventpage-icon {
	opacity: 0.55;
}

.ext-campaignevents-eventpage-header-buttons {
	.flex-display();
	.flex-wrap();
	justify-content: space-between;
	align-items: center;
	flex-grow: 1; // Make sure that they take up all the available width and only leave space between them
}

.ext-campaignevents-eventpage-details-btn.oo-ui-buttonElement-frameless.oo-ui-labelElement:first-child {
	// Remove negative margin set by OOUI
	margin-left: 0;
}

.client-js .ext-campaignevents-eventpage-manage-registration-layout {
	// Hide the buttons if the browser can receive JavaScript; they'll be
	// replaced with a single ButtonMenuSelect.
	display: none;
}

.ext-campaignevents-eventpage-manage-registration-layout.oo-ui-horizontalLayout > .oo-ui-widget {
	/* Remove margin set by HorizontalLayout */
	margin-bottom: 0;
}

#ext-campaignevents-eventpage-details-dialog-content { // stylelint-disable-line selector-max-id
	display: none;
}

.ext-campaignevents-eventpage-header-address {
	.hyphens(); /* Break long words if necessary */
}

.ext-campaignevents-eventpage-organizer-label {
	color: @color-subtle;
	font-size: 0.9em;
}

.ext-campaignevents-eventpage-enableheader-message {
	.flex-display();
	align-items: center;

	& .oo-ui-iconWidget {
		margin-right: 0.5em;
		align-self: flex-start;
	}
}

.ext-campaignevents-eventpage-enableheader {
	.flex-display();
	.flex-wrap();
	align-items: center;
	justify-content: space-between;

	&.oo-ui-panelLayout-padded {
		// OOUI sets a padding-top of 12px and the other ones of 16px, but we want the same
		// padding for every side.
		padding: 14px;
	}
}

@media ( max-width: @max-width-breakpoint-tablet ) {
	// Change flex direction on small screens so that there's one item per line.
	// @media queries seem to be the only way to achieve that aside from
	// display:grid (which is still not supported well enough).
	.ext-campaignevents-eventpage-enableheader {
		flex-direction: column;
		align-items: flex-start;

		.ext-campaignevents-eventpage-enable-registration-btn {
			// This is equivalent to using gap: 1em.
			// Support: IE11, Chrome and Edge < 84, FF < 63, Safari < 14.1, iOS < 14.5 and others
			margin-top: 1em;
		}
	}
}

@media ( max-width: @max-width-breakpoint-mobile ) {
	.ext-campaignevents-eventpage-enableheader .ext-campaignevents-eventpage-enable-registration-btn {
		&,
		& .oo-ui-buttonElement-button {
			// Make the button full-width on mobile.
			width: 100%;
		}
	}
}
